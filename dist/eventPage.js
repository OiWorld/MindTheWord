!function(e){function r(e,r,o){return 4===arguments.length?t.apply(this,arguments):void n(e,{declarative:!0,deps:r,declare:o})}function t(e,r,t,o){n(e,{declarative:!1,deps:r,executingRequire:t,execute:o})}function n(e,r){r.name=e,e in v||(v[e]=r),r.normalizedDeps=r.deps}function o(e,r){if(r[e.groupIndex]=r[e.groupIndex]||[],-1==g.call(r[e.groupIndex],e)){r[e.groupIndex].push(e);for(var t=0,n=e.normalizedDeps.length;n>t;t++){var a=e.normalizedDeps[t],u=v[a];if(u&&!u.evaluated){var d=e.groupIndex+(u.declarative!=e.declarative);if(void 0===u.groupIndex||u.groupIndex<d){if(void 0!==u.groupIndex&&(r[u.groupIndex].splice(g.call(r[u.groupIndex],u),1),0==r[u.groupIndex].length))throw new TypeError("Mixed dependency cycle detected");u.groupIndex=d}o(u,r)}}}}function a(e){var r=v[e];r.groupIndex=0;var t=[];o(r,t);for(var n=!!r.declarative==t.length%2,a=t.length-1;a>=0;a--){for(var u=t[a],i=0;i<u.length;i++){var s=u[i];n?d(s):l(s)}n=!n}}function u(e){return y[e]||(y[e]={name:e,dependencies:[],exports:{},importers:[]})}function d(r){if(!r.module){var t=r.module=u(r.name),n=r.module.exports,o=r.declare.call(e,function(e,r){if(t.locked=!0,"object"==typeof e)for(var o in e)n[o]=e[o];else n[e]=r;for(var a=0,u=t.importers.length;u>a;a++){var d=t.importers[a];if(!d.locked)for(var i=0;i<d.dependencies.length;++i)d.dependencies[i]===t&&d.setters[i](n)}return t.locked=!1,r},r.name);t.setters=o.setters,t.execute=o.execute;for(var a=0,i=r.normalizedDeps.length;i>a;a++){var l,s=r.normalizedDeps[a],c=v[s],f=y[s];f?l=f.exports:c&&!c.declarative?l=c.esModule:c?(d(c),f=c.module,l=f.exports):l=p(s),f&&f.importers?(f.importers.push(t),t.dependencies.push(f)):t.dependencies.push(null),t.setters[a]&&t.setters[a](l)}}}function i(e){var r,t=v[e];if(t)t.declarative?f(e,[]):t.evaluated||l(t),r=t.module.exports;else if(r=p(e),!r)throw new Error("Unable to load dependency "+e+".");return(!t||t.declarative)&&r&&r.__useDefault?r.default:r}function l(r){if(!r.module){var t={},n=r.module={exports:t,id:r.name};if(!r.executingRequire)for(var o=0,a=r.normalizedDeps.length;a>o;o++){var u=r.normalizedDeps[o],d=v[u];d&&l(d)}r.evaluated=!0;var c=r.execute.call(e,function(e){for(var t=0,n=r.deps.length;n>t;t++)if(r.deps[t]==e)return i(r.normalizedDeps[t]);throw new TypeError("Module "+e+" not declared as a dependency.")},t,n);c&&(n.exports=c),t=n.exports,t&&t.__esModule?r.esModule=t:r.esModule=s(t)}}function s(r){var t={};if(("object"==typeof r||"function"==typeof r)&&r!==e)if(m)for(var n in r)"default"!==n&&c(t,r,n);else{var o=r&&r.hasOwnProperty;for(var n in r)"default"===n||o&&!r.hasOwnProperty(n)||(t[n]=r[n])}return t.default=r,x(t,"__useDefault",{value:!0}),t}function c(e,r,t){try{var n;(n=Object.getOwnPropertyDescriptor(r,t))&&x(e,t,n)}catch(o){return e[t]=r[t],!1}}function f(r,t){var n=v[r];if(n&&!n.evaluated&&n.declarative){t.push(r);for(var o=0,a=n.normalizedDeps.length;a>o;o++){var u=n.normalizedDeps[o];-1==g.call(t,u)&&(v[u]?f(u,t):p(u))}n.evaluated||(n.evaluated=!0,n.module.execute.call(e))}}function p(e){if(I[e])return I[e];if("@node/"==e.substr(0,6))return D(e.substr(6));var r=v[e];if(!r)throw"Module "+e+" not present.";return a(e),f(e,[]),v[e]=void 0,r.declarative&&x(r.module.exports,"__esModule",{value:!0}),I[e]=r.declarative?r.module.exports:r.esModule}var v={},g=Array.prototype.indexOf||function(e){for(var r=0,t=this.length;t>r;r++)if(this[r]===e)return r;return-1},m=!0;try{Object.getOwnPropertyDescriptor({a:0},"a")}catch(h){m=!1}var x;!function(){try{Object.defineProperty({},"a",{})&&(x=Object.defineProperty)}catch(e){x=function(e,r,t){try{e[r]=t.value||t.get.call(e)}catch(n){}}}}();var y={},D="undefined"!=typeof System&&System._nodeRequire||"undefined"!=typeof require&&require.resolve&&"undefined"!=typeof process&&require,I={"@empty":{}};return function(e,n,o,a){return function(u){u(function(u){for(var d={_nodeRequire:D,register:r,registerDynamic:t,get:p,set:function(e,r){I[e]=r},newModule:function(e){return e}},i=0;i<n.length;i++)(function(e,r){r&&r.__esModule?I[e]=r:I[e]=s(r)})(n[i],arguments[i]);a(d);var l=p(e[0]);if(e.length>1)for(var i=1;i<e.length;i++)p(e[i]);return o?l.default:l})}}}("undefined"!=typeof self?self:global)(["1"],[],!1,function($__System){this.require,this.exports,this.module;$__System.registerDynamic("2",["3","4"],!0,function($__require,exports,module){var $=$__require("3"),toIObject=$__require("4"),isEnum=$.isEnum;return module.exports=function(isEntries){return function(it){for(var key,O=toIObject(it),keys=$.getKeys(O),length=keys.length,i=0,result=[];length>i;)isEnum.call(O,key=keys[i++])&&result.push(isEntries?[key,O[key]]:O[key]);return result}},module.exports}),$__System.registerDynamic("5",["6","2"],!0,function($__require,exports,module){var $export=$__require("6"),$values=$__require("2")(!1);return $export($export.S,"Object",{values:function(it){return $values(it)}}),module.exports}),$__System.registerDynamic("7",["5","8"],!0,function($__require,exports,module){return $__require("5"),module.exports=$__require("8").Object.values,module.exports}),$__System.registerDynamic("9",["7"],!0,function($__require,exports,module){return module.exports={default:$__require("7"),__esModule:!0},module.exports}),$__System.registerDynamic("a",["b"],!0,function($__require,exports,module){var defined=$__require("b");return module.exports=function(it){return Object(defined(it))},module.exports}),$__System.registerDynamic("c",["6","8","d"],!0,function($__require,exports,module){var $export=$__require("6"),core=$__require("8"),fails=$__require("d");return module.exports=function(KEY,exec){var fn=(core.Object||{})[KEY]||Object[KEY],exp={};exp[KEY]=exec(fn),$export($export.S+$export.F*fails(function(){fn(1)}),"Object",exp)},module.exports}),$__System.registerDynamic("e",["a","c"],!0,function($__require,exports,module){var toObject=$__require("a");return $__require("c")("keys",function($keys){return function(it){return $keys(toObject(it))}}),module.exports}),$__System.registerDynamic("f",["e","8"],!0,function($__require,exports,module){return $__require("e"),module.exports=$__require("8").Object.keys,module.exports}),$__System.registerDynamic("10",["f"],!0,function($__require,exports,module){return module.exports={default:$__require("f"),__esModule:!0},module.exports}),$__System.register("11",["12","13","14","15"],function(_export){var http,_createClass,_classCallCheck,_Promise,YandexTranslate;return{setters:[function(_4){http=_4.http},function(_){_createClass=_.default},function(_2){_classCallCheck=_2.default},function(_3){_Promise=_3.default}],execute:function(){"use strict";YandexTranslate=function(){function YandexTranslate(key,srcLang,targetLang){_classCallCheck(this,YandexTranslate),this.key=key,this.srcLang=srcLang,this.targetLang=targetLang,this.url="https://translate.yandex.net/api/v1.5/tr.json/translate?key="+this.key}return _createClass(YandexTranslate,[{key:"getTranslations",value:function(words){var _this=this,promise=new _Promise(function(resolve,reject){_this.url+="&lang="+_this.srcLang+"-"+_this.targetLang;for(var word in words)_this.url+="&text="+word.trim(" ");http(_this.url).get().then(function(data){var tMap=_this.mapTranslations(JSON.parse(data),words);resolve(tMap)}).catch(function(e){reject(e)})});return promise}},{key:"mapTranslations",value:function(data,words){var tMap={},i=0,translatedWords=data.text;for(var word in words)tMap[word]=translatedWords[i],i++;return tMap}},{key:"translateSentence",value:function(text){var _this2=this,promise=new _Promise(function(resolve,reject){_this2.url+="&lang="+_this2.srcLang+"-"+_this2.targetLang,_this2.url+="&text="+text,http(_this2.url).get().then(function(data){resolve(JSON.parse(data).text[0])}).catch(function(e){reject(e)})});return promise}}]),YandexTranslate}(),_export("YandexTranslate",YandexTranslate)}}}),$__System.register("16",["12","13","14","15"],function(_export){var http,_createClass,_classCallCheck,_Promise,GoogleTranslate;return{setters:[function(_4){http=_4.http},function(_){_createClass=_.default},function(_2){_classCallCheck=_2.default},function(_3){_Promise=_3.default}],execute:function(){"use strict";GoogleTranslate=function(){function GoogleTranslate(key,srcLang,targetLang){_classCallCheck(this,GoogleTranslate),this.key=key,this.srcLang=srcLang,this.targetLang=targetLang,this.url="https://www.googleapis.com/language/translate/v2?key="+this.key}return _createClass(GoogleTranslate,[{key:"getTranslations",value:function(words){var _this=this,promise=new _Promise(function(resolve,reject){var promises=[];_this.url+="&source="+_this.srcLang+"&target="+_this.targetLang,words=_this.toList(words),promises=_this.getPromises(words),_Promise.all(promises).then(function(responses){var translations=_this.combineTranslations(responses),tMap=_this.mapTranslations(translations,words);resolve(tMap)}).catch(function(e){reject(e)})});return promise}},{key:"toList",value:function(words){var wordList=[];for(var word in words)wordList.push(word);return wordList}},{key:"getPromises",value:function(words){for(var i=0,promises=[],url="",limitedWords=[];i<words.length;){url=this.url,limitedWords=words.slice(i,i+128);for(var j in limitedWords)url+="&q="+limitedWords[j];promises.push(http(url).get()),i+=128}return promises}},{key:"combineTranslations",value:function(responses){var translations=[];for(var i in responses)translations=translations.concat(JSON.parse(responses[i]).data.translations);return translations}},{key:"mapTranslations",value:function(translations,words){var tMap={},i=0,translatedWords=translations;for(var word in words)tMap[words[word]]=translatedWords[i].translatedText,i++;return console.log(tMap),tMap}},{key:"translateSentence",value:function(text){var _this2=this,promise=new _Promise(function(resolve,reject){_this2.url+="&source="+_this2.srcLang+"&target="+_this2.targetLang,_this2.url+="&q="+text,http(_this2.url).get().then(function(data){resolve(JSON.parse(data).data.translations[0].translatedText)}).catch(function(e){reject(e)})});return promise}}]),GoogleTranslate}(),_export("GoogleTranslate",GoogleTranslate)}}}),$__System.registerDynamic("17",["3"],!0,function($__require,exports,module){var $=$__require("3");return module.exports=function(it,key,desc){return $.setDesc(it,key,desc)},module.exports}),$__System.registerDynamic("18",["17"],!0,function($__require,exports,module){return module.exports={default:$__require("17"),__esModule:!0},module.exports}),$__System.registerDynamic("13",["18"],!0,function($__require,exports,module){"use strict";var _Object$defineProperty=$__require("18").default;return exports.default=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),_Object$defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),exports.__esModule=!0,module.exports}),$__System.registerDynamic("14",[],!0,function($__require,exports,module){"use strict";return exports.default=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")},exports.__esModule=!0,module.exports}),$__System.registerDynamic("19",[],!0,function($__require,exports,module){return module.exports}),$__System.registerDynamic("1a",["1b","b"],!0,function($__require,exports,module){var toInteger=$__require("1b"),defined=$__require("b");return module.exports=function(TO_STRING){return function(that,pos){var a,b,s=String(defined(that)),i=toInteger(pos),l=s.length;return i<0||i>=l?TO_STRING?"":void 0:(a=s.charCodeAt(i),a<55296||a>56319||i+1===l||(b=s.charCodeAt(i+1))<56320||b>57343?TO_STRING?s.charAt(i):a:TO_STRING?s.slice(i,i+2):(a-55296<<10)+(b-56320)+65536)}},module.exports}),$__System.registerDynamic("1c",["1a","1d"],!0,function($__require,exports,module){"use strict";var $at=$__require("1a")(!0);return $__require("1d")(String,"String",function(iterated){this._t=String(iterated),this._i=0},function(){var point,O=this._t,index=this._i;return index>=O.length?{value:void 0,done:!0}:(point=$at(O,index),this._i+=point.length,{value:point,done:!1})}),module.exports}),$__System.registerDynamic("1e",[],!0,function($__require,exports,module){return module.exports=function(){},module.exports}),$__System.registerDynamic("1f",[],!0,function($__require,exports,module){return module.exports=function(done,value){return{value:value,done:!!done}},module.exports}),$__System.registerDynamic("20",["21"],!0,function($__require,exports,module){var cof=$__require("21");return module.exports=Object("z").propertyIsEnumerable(0)?Object:function(it){return"String"==cof(it)?it.split(""):Object(it)},module.exports}),$__System.registerDynamic("b",[],!0,function($__require,exports,module){return module.exports=function(it){if(void 0==it)throw TypeError("Can't call method on  "+it);return it},module.exports}),$__System.registerDynamic("4",["20","b"],!0,function($__require,exports,module){var IObject=$__require("20"),defined=$__require("b");return module.exports=function(it){return IObject(defined(it))},module.exports}),$__System.registerDynamic("22",["3","23","24","25","26"],!0,function($__require,exports,module){"use strict";var $=$__require("3"),descriptor=$__require("23"),setToStringTag=$__require("24"),IteratorPrototype={};return $__require("25")(IteratorPrototype,$__require("26")("iterator"),function(){return this}),module.exports=function(Constructor,NAME,next){Constructor.prototype=$.create(IteratorPrototype,{next:descriptor(1,next)}),setToStringTag(Constructor,NAME+" Iterator")},module.exports}),$__System.registerDynamic("1d",["27","6","28","25","29","2a","22","24","3","26"],!0,function($__require,exports,module){"use strict";var LIBRARY=$__require("27"),$export=$__require("6"),redefine=$__require("28"),hide=$__require("25"),has=$__require("29"),Iterators=$__require("2a"),$iterCreate=$__require("22"),setToStringTag=$__require("24"),getProto=$__require("3").getProto,ITERATOR=$__require("26")("iterator"),BUGGY=!([].keys&&"next"in[].keys()),FF_ITERATOR="@@iterator",KEYS="keys",VALUES="values",returnThis=function(){return this};return module.exports=function(Base,NAME,Constructor,next,DEFAULT,IS_SET,FORCED){$iterCreate(Constructor,NAME,next);var methods,key,getMethod=function(kind){if(!BUGGY&&kind in proto)return proto[kind];switch(kind){case KEYS:return function(){return new Constructor(this,kind)};case VALUES:return function(){return new Constructor(this,kind)}}return function(){return new Constructor(this,kind)}},TAG=NAME+" Iterator",DEF_VALUES=DEFAULT==VALUES,VALUES_BUG=!1,proto=Base.prototype,$native=proto[ITERATOR]||proto[FF_ITERATOR]||DEFAULT&&proto[DEFAULT],$default=$native||getMethod(DEFAULT);if($native){var IteratorPrototype=getProto($default.call(new Base));setToStringTag(IteratorPrototype,TAG,!0),!LIBRARY&&has(proto,FF_ITERATOR)&&hide(IteratorPrototype,ITERATOR,returnThis),DEF_VALUES&&$native.name!==VALUES&&(VALUES_BUG=!0,$default=function(){return $native.call(this)})}if(LIBRARY&&!FORCED||!BUGGY&&!VALUES_BUG&&proto[ITERATOR]||hide(proto,ITERATOR,$default),Iterators[NAME]=$default,Iterators[TAG]=returnThis,DEFAULT)if(methods={values:DEF_VALUES?$default:getMethod(VALUES),keys:IS_SET?$default:getMethod(KEYS),entries:DEF_VALUES?getMethod("entries"):$default},FORCED)for(key in methods)key in proto||redefine(proto,key,methods[key]);else $export($export.P+$export.F*(BUGGY||VALUES_BUG),NAME,methods);return methods},module.exports}),$__System.registerDynamic("2b",["1e","1f","2a","4","1d"],!0,function($__require,exports,module){"use strict";var addToUnscopables=$__require("1e"),step=$__require("1f"),Iterators=$__require("2a"),toIObject=$__require("4");return module.exports=$__require("1d")(Array,"Array",function(iterated,kind){this._t=toIObject(iterated),this._i=0,this._k=kind},function(){var O=this._t,kind=this._k,index=this._i++;return!O||index>=O.length?(this._t=void 0,step(1)):"keys"==kind?step(0,index):"values"==kind?step(0,O[index]):step(0,[index,O[index]])},"values"),Iterators.Arguments=Iterators.Array,addToUnscopables("keys"),addToUnscopables("values"),addToUnscopables("entries"),module.exports}),$__System.registerDynamic("2c",["2b","2a"],!0,function($__require,exports,module){$__require("2b");var Iterators=$__require("2a");return Iterators.NodeList=Iterators.HTMLCollection=Iterators.Array,module.exports}),$__System.registerDynamic("27",[],!0,function($__require,exports,module){return module.exports=!0,module.exports}),$__System.registerDynamic("6",["2d","8","2e"],!0,function($__require,exports,module){var global=this,global=$__require("2d"),core=$__require("8"),ctx=$__require("2e"),PROTOTYPE="prototype",$export=function(type,name,source){var key,own,out,IS_FORCED=type&$export.F,IS_GLOBAL=type&$export.G,IS_STATIC=type&$export.S,IS_PROTO=type&$export.P,IS_BIND=type&$export.B,IS_WRAP=type&$export.W,exports=IS_GLOBAL?core:core[name]||(core[name]={}),target=IS_GLOBAL?global:IS_STATIC?global[name]:(global[name]||{})[PROTOTYPE];IS_GLOBAL&&(source=name);for(key in source)own=!IS_FORCED&&target&&key in target,own&&key in exports||(out=own?target[key]:source[key],exports[key]=IS_GLOBAL&&"function"!=typeof target[key]?source[key]:IS_BIND&&own?ctx(out,global):IS_WRAP&&target[key]==out?function(C){var F=function(param){return this instanceof C?new C(param):C(param)};return F[PROTOTYPE]=C[PROTOTYPE],F}(out):IS_PROTO&&"function"==typeof out?ctx(Function.call,out):out,IS_PROTO&&((exports[PROTOTYPE]||(exports[PROTOTYPE]={}))[key]=out))};return $export.F=1,$export.G=2,$export.S=4,$export.P=8,$export.B=16,$export.W=32,module.exports=$export,module.exports}),$__System.registerDynamic("2f",[],!0,function($__require,exports,module){return module.exports=function(it,Constructor,name){if(!(it instanceof Constructor))throw TypeError(name+": use the 'new' operator!");return it},module.exports}),$__System.registerDynamic("30",["31"],!0,function($__require,exports,module){var anObject=$__require("31");return module.exports=function(iterator,fn,value,entries){try{return entries?fn(anObject(value)[0],value[1]):fn(value)}catch(e){var ret=iterator.return;throw void 0!==ret&&anObject(ret.call(iterator)),e}},module.exports}),$__System.registerDynamic("32",["2a","26"],!0,function($__require,exports,module){var Iterators=$__require("2a"),ITERATOR=$__require("26")("iterator"),ArrayProto=Array.prototype;return module.exports=function(it){return void 0!==it&&(Iterators.Array===it||ArrayProto[ITERATOR]===it)},module.exports}),$__System.registerDynamic("1b",[],!0,function($__require,exports,module){var ceil=Math.ceil,floor=Math.floor;return module.exports=function(it){return isNaN(it=+it)?0:(it>0?floor:ceil)(it)},module.exports}),$__System.registerDynamic("33",["1b"],!0,function($__require,exports,module){var toInteger=$__require("1b"),min=Math.min;return module.exports=function(it){return it>0?min(toInteger(it),9007199254740991):0},module.exports}),$__System.registerDynamic("34",["21","26"],!0,function($__require,exports,module){var cof=$__require("21"),TAG=$__require("26")("toStringTag"),ARG="Arguments"==cof(function(){return arguments}());return module.exports=function(it){var O,T,B;return void 0===it?"Undefined":null===it?"Null":"string"==typeof(T=(O=Object(it))[TAG])?T:ARG?cof(O):"Object"==(B=cof(O))&&"function"==typeof O.callee?"Arguments":B},module.exports}),$__System.registerDynamic("2a",[],!0,function($__require,exports,module){return module.exports={},module.exports}),$__System.registerDynamic("35",["34","26","2a","8"],!0,function($__require,exports,module){var classof=$__require("34"),ITERATOR=$__require("26")("iterator"),Iterators=$__require("2a");return module.exports=$__require("8").getIteratorMethod=function(it){if(void 0!=it)return it[ITERATOR]||it["@@iterator"]||Iterators[classof(it)]},module.exports}),$__System.registerDynamic("36",["2e","30","32","31","33","35"],!0,function($__require,exports,module){var ctx=$__require("2e"),call=$__require("30"),isArrayIter=$__require("32"),anObject=$__require("31"),toLength=$__require("33"),getIterFn=$__require("35");return module.exports=function(iterable,entries,fn,that){var length,step,iterator,iterFn=getIterFn(iterable),f=ctx(fn,that,entries?2:1),index=0;if("function"!=typeof iterFn)throw TypeError(iterable+" is not iterable!");if(isArrayIter(iterFn))for(length=toLength(iterable.length);length>index;index++)entries?f(anObject(step=iterable[index])[0],step[1]):f(iterable[index]);else for(iterator=iterFn.call(iterable);!(step=iterator.next()).done;)call(iterator,f,step.value,entries)},module.exports}),$__System.registerDynamic("37",["3","38","31","2e"],!0,function($__require,exports,module){var getDesc=$__require("3").getDesc,isObject=$__require("38"),anObject=$__require("31"),check=function(O,proto){if(anObject(O),!isObject(proto)&&null!==proto)throw TypeError(proto+": can't set as prototype!")};return module.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(test,buggy,set){try{set=$__require("2e")(Function.call,getDesc(Object.prototype,"__proto__").set,2),set(test,[]),buggy=!(test instanceof Array)}catch(e){buggy=!0}return function(O,proto){return check(O,proto),buggy?O.__proto__=proto:set(O,proto),O}}({},!1):void 0),check:check},module.exports}),$__System.registerDynamic("39",[],!0,function($__require,exports,module){return module.exports=Object.is||function(x,y){return x===y?0!==x||1/x===1/y:x!=x&&y!=y},module.exports}),$__System.registerDynamic("31",["38"],!0,function($__require,exports,module){var isObject=$__require("38");return module.exports=function(it){if(!isObject(it))throw TypeError(it+" is not an object!");return it},module.exports}),$__System.registerDynamic("3a",["31","3b","26"],!0,function($__require,exports,module){var anObject=$__require("31"),aFunction=$__require("3b"),SPECIES=$__require("26")("species");return module.exports=function(O,D){var S,C=anObject(O).constructor;return void 0===C||void 0==(S=anObject(C)[SPECIES])?D:aFunction(S)},module.exports}),$__System.registerDynamic("3b",[],!0,function($__require,exports,module){return module.exports=function(it){if("function"!=typeof it)throw TypeError(it+" is not a function!");return it},module.exports}),$__System.registerDynamic("2e",["3b"],!0,function($__require,exports,module){var aFunction=$__require("3b");return module.exports=function(fn,that,length){if(aFunction(fn),void 0===that)return fn;switch(length){case 1:return function(a){return fn.call(that,a)};case 2:return function(a,b){return fn.call(that,a,b)};case 3:return function(a,b,c){return fn.call(that,a,b,c)}}return function(){return fn.apply(that,arguments)}},module.exports}),$__System.registerDynamic("3c",[],!0,function($__require,exports,module){return module.exports=function(fn,args,that){var un=void 0===that;switch(args.length){case 0:return un?fn():fn.call(that);case 1:return un?fn(args[0]):fn.call(that,args[0]);case 2:return un?fn(args[0],args[1]):fn.call(that,args[0],args[1]);case 3:return un?fn(args[0],args[1],args[2]):fn.call(that,args[0],args[1],args[2]);case 4:return un?fn(args[0],args[1],args[2],args[3]):fn.call(that,args[0],args[1],args[2],args[3])}return fn.apply(that,args)},module.exports}),$__System.registerDynamic("3d",["2d"],!0,function($__require,exports,module){return module.exports=$__require("2d").document&&document.documentElement,module.exports}),$__System.registerDynamic("38",[],!0,function($__require,exports,module){return module.exports=function(it){return"object"==typeof it?null!==it:"function"==typeof it},module.exports}),$__System.registerDynamic("3e",["38","2d"],!0,function($__require,exports,module){var isObject=$__require("38"),document=$__require("2d").document,is=isObject(document)&&isObject(document.createElement);return module.exports=function(it){return is?document.createElement(it):{}},module.exports}),$__System.registerDynamic("3f",["2e","3c","3d","3e","2d","21","40"],!0,function($__require,exports,module){return function(process){var defer,channel,port,ctx=$__require("2e"),invoke=$__require("3c"),html=$__require("3d"),cel=$__require("3e"),global=$__require("2d"),process=global.process,setTask=global.setImmediate,clearTask=global.clearImmediate,MessageChannel=global.MessageChannel,counter=0,queue={},ONREADYSTATECHANGE="onreadystatechange",run=function(){var id=+this;if(queue.hasOwnProperty(id)){var fn=queue[id];delete queue[id],fn()}},listner=function(event){run.call(event.data)};setTask&&clearTask||(setTask=function(fn){for(var args=[],i=1;arguments.length>i;)args.push(arguments[i++]);return queue[++counter]=function(){invoke("function"==typeof fn?fn:Function(fn),args)},defer(counter),counter},clearTask=function(id){delete queue[id]},"process"==$__require("21")(process)?defer=function(id){process.nextTick(ctx(run,id,1))}:MessageChannel?(channel=new MessageChannel,port=channel.port2,channel.port1.onmessage=listner,defer=ctx(port.postMessage,port,1)):global.addEventListener&&"function"==typeof postMessage&&!global.importScripts?(defer=function(id){global.postMessage(id+"","*")},global.addEventListener("message",listner,!1)):defer=ONREADYSTATECHANGE in cel("script")?function(id){html.appendChild(cel("script"))[ONREADYSTATECHANGE]=function(){html.removeChild(this),run.call(id)}}:function(id){setTimeout(ctx(run,id,1),0)}),module.exports={set:setTask,clear:clearTask}}($__require("40")),module.exports}),$__System.registerDynamic("21",[],!0,function($__require,exports,module){var toString={}.toString;return module.exports=function(it){return toString.call(it).slice(8,-1)},module.exports}),$__System.registerDynamic("41",["2d","3f","21","40"],!0,function($__require,exports,module){return function(process){var head,last,notify,global=$__require("2d"),macrotask=$__require("3f").set,Observer=global.MutationObserver||global.WebKitMutationObserver,process=global.process,Promise=global.Promise,isNode="process"==$__require("21")(process),flush=function(){var parent,domain,fn;for(isNode&&(parent=process.domain)&&(process.domain=null,parent.exit());head;)domain=head.domain,fn=head.fn,domain&&domain.enter(),fn(),domain&&domain.exit(),head=head.next;last=void 0,parent&&parent.enter()};if(isNode)notify=function(){process.nextTick(flush)};else if(Observer){var toggle=1,node=document.createTextNode("");new Observer(flush).observe(node,{characterData:!0}),notify=function(){node.data=toggle=-toggle}}else notify=Promise&&Promise.resolve?function(){Promise.resolve().then(flush)}:function(){macrotask.call(global,flush)};module.exports=function(fn){var task={fn:fn,next:void 0,domain:isNode&&process.domain};last&&(last.next=task),head||(head=task,notify()),last=task}}($__require("40")),module.exports}),$__System.registerDynamic("23",[],!0,function($__require,exports,module){return module.exports=function(bitmap,value){return{enumerable:!(1&bitmap),configurable:!(2&bitmap),writable:!(4&bitmap),value:value}},module.exports}),$__System.registerDynamic("25",["3","23","42"],!0,function($__require,exports,module){var $=$__require("3"),createDesc=$__require("23");return module.exports=$__require("42")?function(object,key,value){return $.setDesc(object,key,createDesc(1,value))}:function(object,key,value){return object[key]=value,object},module.exports}),$__System.registerDynamic("28",["25"],!0,function($__require,exports,module){return module.exports=$__require("25"),module.exports}),$__System.registerDynamic("43",["28"],!0,function($__require,exports,module){var redefine=$__require("28");return module.exports=function(target,src){for(var key in src)redefine(target,key,src[key]);return target},module.exports}),$__System.registerDynamic("29",[],!0,function($__require,exports,module){var hasOwnProperty={}.hasOwnProperty;return module.exports=function(it,key){return hasOwnProperty.call(it,key)},module.exports}),$__System.registerDynamic("24",["3","29","26"],!0,function($__require,exports,module){var def=$__require("3").setDesc,has=$__require("29"),TAG=$__require("26")("toStringTag");return module.exports=function(it,tag,stat){it&&!has(it=stat?it:it.prototype,TAG)&&def(it,TAG,{configurable:!0,value:tag})},module.exports}),$__System.registerDynamic("3",[],!0,function($__require,exports,module){var $Object=Object;return module.exports={create:$Object.create,getProto:$Object.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:$Object.getOwnPropertyDescriptor,setDesc:$Object.defineProperty,setDescs:$Object.defineProperties,getKeys:$Object.keys,getNames:$Object.getOwnPropertyNames,getSymbols:$Object.getOwnPropertySymbols,each:[].forEach},module.exports}),$__System.registerDynamic("d",[],!0,function($__require,exports,module){return module.exports=function(exec){try{return!!exec()}catch(e){return!0}},module.exports}),$__System.registerDynamic("42",["d"],!0,function($__require,exports,module){return module.exports=!$__require("d")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),module.exports}),$__System.registerDynamic("44",["8","3","42","26"],!0,function($__require,exports,module){"use strict";var core=$__require("8"),$=$__require("3"),DESCRIPTORS=$__require("42"),SPECIES=$__require("26")("species");return module.exports=function(KEY){var C=core[KEY];DESCRIPTORS&&C&&!C[SPECIES]&&$.setDesc(C,SPECIES,{configurable:!0,get:function(){return this}})},module.exports}),$__System.registerDynamic("45",["2d"],!0,function($__require,exports,module){var global=this,global=$__require("2d"),SHARED="__core-js_shared__",store=global[SHARED]||(global[SHARED]={});return module.exports=function(key){return store[key]||(store[key]={})},module.exports}),$__System.registerDynamic("46",[],!0,function($__require,exports,module){var id=0,px=Math.random();return module.exports=function(key){return"Symbol(".concat(void 0===key?"":key,")_",(++id+px).toString(36))},module.exports}),$__System.registerDynamic("2d",[],!0,function($__require,exports,module){var global=this,global=module.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();return"number"==typeof __g&&(__g=global),module.exports}),$__System.registerDynamic("26",["45","46","2d"],!0,function($__require,exports,module){var store=$__require("45")("wks"),uid=$__require("46"),Symbol=$__require("2d").Symbol;return module.exports=function(name){return store[name]||(store[name]=Symbol&&Symbol[name]||(Symbol||uid)("Symbol."+name))},module.exports}),$__System.registerDynamic("47",["26"],!0,function($__require,exports,module){var ITERATOR=$__require("26")("iterator"),SAFE_CLOSING=!1;try{var riter=[7][ITERATOR]();riter.return=function(){SAFE_CLOSING=!0},Array.from(riter,function(){throw 2})}catch(e){}return module.exports=function(exec,skipClosing){if(!skipClosing&&!SAFE_CLOSING)return!1;var safe=!1;try{var arr=[7],iter=arr[ITERATOR]();iter.next=function(){safe=!0},arr[ITERATOR]=function(){return iter},exec(arr)}catch(e){}return safe},module.exports}),$__System.registerDynamic("48",[],!0,function($__require,exports,module){function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var timeout=setTimeout(cleanUpNextTick);draining=!0;for(var len=queue.length;len;){for(currentQueue=queue,queue=[];++queueIndex<len;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,len=queue.length}currentQueue=null,draining=!1,clearTimeout(timeout)}}function Item(fun,array){this.fun=fun,this.array=array}function noop(){}var currentQueue,process=module.exports={},queue=[],draining=!1,queueIndex=-1;return process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];queue.push(new Item(fun,args)),1!==queue.length||draining||setTimeout(drainQueue,0)},Item.prototype.run=function(){
this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.binding=function(name){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(dir){throw new Error("process.chdir is not supported")},process.umask=function(){return 0},module.exports}),$__System.registerDynamic("49",["48"],!0,function($__require,exports,module){return module.exports=$__require("48"),module.exports}),$__System.registerDynamic("4a",["49"],!0,function($__require,exports,module){return module.exports=$__System._nodeRequire?process:$__require("49"),module.exports}),$__System.registerDynamic("40",["4a"],!0,function($__require,exports,module){return module.exports=$__require("4a"),module.exports}),$__System.registerDynamic("4b",["3","27","2d","2e","34","6","38","31","3b","2f","36","37","39","26","3a","41","42","43","24","44","8","47","40"],!0,function($__require,exports,module){return function(process){"use strict";var Wrapper,$=$__require("3"),LIBRARY=$__require("27"),global=$__require("2d"),ctx=$__require("2e"),classof=$__require("34"),$export=$__require("6"),isObject=$__require("38"),anObject=$__require("31"),aFunction=$__require("3b"),strictNew=$__require("2f"),forOf=$__require("36"),setProto=$__require("37").set,same=$__require("39"),SPECIES=$__require("26")("species"),speciesConstructor=$__require("3a"),asap=$__require("41"),PROMISE="Promise",process=global.process,isNode="process"==classof(process),P=global[PROMISE],testResolve=function(sub){var test=new P(function(){});return sub&&(test.constructor=Object),P.resolve(test)===test},USE_NATIVE=function(){function P2(x){var self=new P(x);return setProto(self,P2.prototype),self}var works=!1;try{if(works=P&&P.resolve&&testResolve(),setProto(P2,P),P2.prototype=$.create(P.prototype,{constructor:{value:P2}}),P2.resolve(5).then(function(){})instanceof P2||(works=!1),works&&$__require("42")){var thenableThenGotten=!1;P.resolve($.setDesc({},"then",{get:function(){thenableThenGotten=!0}})),works=thenableThenGotten}}catch(e){works=!1}return works}(),sameConstructor=function(a,b){return!(!LIBRARY||a!==P||b!==Wrapper)||same(a,b)},getConstructor=function(C){var S=anObject(C)[SPECIES];return void 0!=S?S:C},isThenable=function(it){var then;return!(!isObject(it)||"function"!=typeof(then=it.then))&&then},PromiseCapability=function(C){var resolve,reject;this.promise=new C(function($$resolve,$$reject){if(void 0!==resolve||void 0!==reject)throw TypeError("Bad Promise constructor");resolve=$$resolve,reject=$$reject}),this.resolve=aFunction(resolve),this.reject=aFunction(reject)},perform=function(exec){try{exec()}catch(e){return{error:e}}},notify=function(record,isReject){if(!record.n){record.n=!0;var chain=record.c;asap(function(){for(var value=record.v,ok=1==record.s,i=0,run=function(reaction){var result,then,handler=ok?reaction.ok:reaction.fail,resolve=reaction.resolve,reject=reaction.reject;try{handler?(ok||(record.h=!0),result=handler===!0?value:handler(value),result===reaction.promise?reject(TypeError("Promise-chain cycle")):(then=isThenable(result))?then.call(result,resolve,reject):resolve(result)):reject(value)}catch(e){reject(e)}};chain.length>i;)run(chain[i++]);chain.length=0,record.n=!1,isReject&&setTimeout(function(){var handler,console,promise=record.p;isUnhandled(promise)&&(isNode?process.emit("unhandledRejection",value,promise):(handler=global.onunhandledrejection)?handler({promise:promise,reason:value}):(console=global.console)&&console.error&&console.error("Unhandled promise rejection",value)),record.a=void 0},1)})}},isUnhandled=function(promise){var reaction,record=promise._d,chain=record.a||record.c,i=0;if(record.h)return!1;for(;chain.length>i;)if(reaction=chain[i++],reaction.fail||!isUnhandled(reaction.promise))return!1;return!0},$reject=function(value){var record=this;record.d||(record.d=!0,record=record.r||record,record.v=value,record.s=2,record.a=record.c.slice(),notify(record,!0))},$resolve=function(value){var then,record=this;if(!record.d){record.d=!0,record=record.r||record;try{if(record.p===value)throw TypeError("Promise can't be resolved itself");(then=isThenable(value))?asap(function(){var wrapper={r:record,d:!1};try{then.call(value,ctx($resolve,wrapper,1),ctx($reject,wrapper,1))}catch(e){$reject.call(wrapper,e)}}):(record.v=value,record.s=1,notify(record,!1))}catch(e){$reject.call({r:record,d:!1},e)}}};USE_NATIVE||(P=function(executor){aFunction(executor);var record=this._d={p:strictNew(this,P,PROMISE),c:[],a:void 0,s:0,d:!1,v:void 0,h:!1,n:!1};try{executor(ctx($resolve,record,1),ctx($reject,record,1))}catch(err){$reject.call(record,err)}},$__require("43")(P.prototype,{then:function(onFulfilled,onRejected){var reaction=new PromiseCapability(speciesConstructor(this,P)),promise=reaction.promise,record=this._d;return reaction.ok="function"!=typeof onFulfilled||onFulfilled,reaction.fail="function"==typeof onRejected&&onRejected,record.c.push(reaction),record.a&&record.a.push(reaction),record.s&&notify(record,!1),promise},catch:function(onRejected){return this.then(void 0,onRejected)}})),$export($export.G+$export.W+$export.F*!USE_NATIVE,{Promise:P}),$__require("24")(P,PROMISE),$__require("44")(PROMISE),Wrapper=$__require("8")[PROMISE],$export($export.S+$export.F*!USE_NATIVE,PROMISE,{reject:function(r){var capability=new PromiseCapability(this),$$reject=capability.reject;return $$reject(r),capability.promise}}),$export($export.S+$export.F*(!USE_NATIVE||testResolve(!0)),PROMISE,{resolve:function(x){if(x instanceof P&&sameConstructor(x.constructor,this))return x;var capability=new PromiseCapability(this),$$resolve=capability.resolve;return $$resolve(x),capability.promise}}),$export($export.S+$export.F*!(USE_NATIVE&&$__require("47")(function(iter){P.all(iter).catch(function(){})})),PROMISE,{all:function(iterable){var C=getConstructor(this),capability=new PromiseCapability(C),resolve=capability.resolve,reject=capability.reject,values=[],abrupt=perform(function(){forOf(iterable,!1,values.push,values);var remaining=values.length,results=Array(remaining);remaining?$.each.call(values,function(promise,index){var alreadyCalled=!1;C.resolve(promise).then(function(value){alreadyCalled||(alreadyCalled=!0,results[index]=value,--remaining||resolve(results))},reject)}):resolve(results)});return abrupt&&reject(abrupt.error),capability.promise},race:function(iterable){var C=getConstructor(this),capability=new PromiseCapability(C),reject=capability.reject,abrupt=perform(function(){forOf(iterable,!1,function(promise){C.resolve(promise).then(capability.resolve,reject)})});return abrupt&&reject(abrupt.error),capability.promise}})}($__require("40")),module.exports}),$__System.registerDynamic("8",[],!0,function($__require,exports,module){var core=module.exports={version:"1.2.6"};return"number"==typeof __e&&(__e=core),module.exports}),$__System.registerDynamic("4c",["19","1c","2c","4b","8"],!0,function($__require,exports,module){return $__require("19"),$__require("1c"),$__require("2c"),$__require("4b"),module.exports=$__require("8").Promise,module.exports}),$__System.registerDynamic("15",["4c"],!0,function($__require,exports,module){return module.exports={default:$__require("4c"),__esModule:!0},module.exports}),$__System.register("12",["15"],function(_export){function http(url){var core={ajax:function(method,url,args,headers){var promise=new _Promise(function(resolve,reject){var client=new XMLHttpRequest,uri="";if(args&&args.xml)uri=args.payload;else if(args&&("POST"===method||"PUT"===method)){var argcount=0;for(var key in args)args.hasOwnProperty(key)&&(argcount++&&(uri+="&"),uri+=encodeURIComponent(key)+"="+encodeURIComponent(args[key]))}if(client.open(method,url),headers)for(var i in headers)client.setRequestHeader(i,headers[i]);client.send(uri),client.onload=function(){this.status>=200&&this.status<300?resolve(this.response):reject(this.statusText)},client.onerror=function(){reject(this.statusText)}});return promise}};return{get:function(args,headers){return core.ajax("GET",url,args,headers)},post:function(args,headers){return core.ajax("POST",url,args,headers)},put:function(args,headers){return core.ajax("PUT",url,args,headers)},delete:function(args,headers){return core.ajax("DELETE",url,args,headers)}}}var _Promise;return{setters:[function(_){_Promise=_.default}],execute:function(){"use strict";_export("http",http)}}}),$__System.register("4d",["12","13","14","15"],function(_export){var http,_createClass,_classCallCheck,_Promise,BingTranslate;return{setters:[function(_4){http=_4.http},function(_){_createClass=_.default},function(_2){_classCallCheck=_2.default},function(_3){_Promise=_3.default}],execute:function(){"use strict";BingTranslate=function(){function BingTranslate(key,srcLang,targetLang){_classCallCheck(this,BingTranslate),this.srcLang=srcLang,this.targetLang=targetLang,this.url="https://api.microsofttranslator.com/V2/Http.svc/TranslateArray",this.authUrl="https://datamarket.accesscontrol.windows.net/v2/OAuth2-13",this.authData={grant_type:"client_credentials",scope:"http://api.microsofttranslator.com",client_id:key.clientId,client_secret:key.clientSecret}}return _createClass(BingTranslate,[{key:"getTranslations",value:function(words){var _this=this,promise=new _Promise(function(resolve,reject){var payload=_this.formPayload(words),headers={"content-type":"application/x-www-form-urlencoded"};http(_this.authUrl).post(_this.authData,headers).then(function(data){headers={Authorization:"Bearer "+JSON.parse(data).access_token,"content-type":"application/xml"},http(_this.url).post(payload,headers).then(function(res){var translations=_this.filterTranslations(res),tMap=_this.mapTranslations(translations,words);resolve(tMap)}).catch(function(e){reject(e)})}).catch(function(e){reject(e)})});return promise}},{key:"formPayload",value:function(words){var payload="<TranslateArrayRequest><AppId></AppId><From>"+this.srcLang+"</From><Texts>";for(var word in words)payload+='<string xmlns="http://schemas.microsoft.com/2003/10/Serialization/Arrays">'+word+"</string>";return payload+="</Texts><To>"+this.targetLang+"</To></TranslateArrayRequest>",{payload:payload,xml:!0}}},{key:"filterTranslations",value:function(res,words){var xmlDoc=this.parseXML(res),elements=xmlDoc.getElementsByTagName("TranslatedText"),translations=[];for(var i in elements)translations.push(elements[i].innerHTML);return translations}},{key:"parseXML",value:function(xmlStr){return(new window.DOMParser).parseFromString(xmlStr,"text/xml")}},{key:"mapTranslations",value:function(translations,words){var tMap={},i=0,translatedWords=translations;for(var word in words)tMap[word]=translatedWords[i],i++;return tMap}},{key:"translateSentence",value:function(text){var _this2=this,promise=new _Promise(function(resolve,reject){_this2.url="http://api.microsofttranslator.com/V2/Http.svc/Translate",_this2.url+="?appId",_this2.url+="&from="+_this2.srcLang,_this2.url+="&to="+_this2.targetLang,_this2.url+="&text="+text;var headers={"content-type":"application/x-www-form-urlencoded"};http(_this2.authUrl).post(_this2.authData,headers).then(function(data){headers={Authorization:"Bearer "+JSON.parse(data).access_token},http(_this2.url).get({},headers).then(function(res){var xml=_this2.parseXML(res),sentence=xml.getElementsByTagName("string")[0].innerHTML;resolve(sentence)}).catch(function(e){reject(e)})})});return promise}}]),BingTranslate}(),_export("BingTranslate",BingTranslate)}}}),$__System.register("4e",["9","10","11","13","14","15","16","4d"],function(_export){var _Object$values,_Object$keys,YandexTranslate,_createClass,_classCallCheck,_Promise,GoogleTranslate,BingTranslate,ContextMenu;return{setters:[function(_4){_Object$values=_4.default},function(_5){_Object$keys=_5.default},function(_6){YandexTranslate=_6.YandexTranslate},function(_){_createClass=_.default},function(_2){_classCallCheck=_2.default},function(_3){_Promise=_3.default},function(_7){GoogleTranslate=_7.GoogleTranslate},function(_d){BingTranslate=_d.BingTranslate}],execute:function(){"use strict";ContextMenu=function(){function ContextMenu(){_classCallCheck(this,ContextMenu)}return _createClass(ContextMenu,[{key:"isWordCountNone",value:function(inputString){var s=inputString;return s=s.replace(/(^\s*)|(\s*$)/gi,""),s=s.replace(/[ ]{2,}/gi," "),s=s.replace(/\n /,"\n"),1!==s.split(" ").length&&(alert('Please select a single word only. Phrases such as: "'+inputString+"\" aren't allowed"),!0)}},{key:"searchForSimilarWords",value:function(selectedText,searchPlatform){var searchPlatformURLS={bing:"http://www.bing.com/search?q=%s+synonyms&go=&qs=n&sk=&sc=8-9&form=QBLH",google:"http://www.google.com/#q=%s+synonyms&fp=1",googleImages:"http://www.google.com/search?num=10&hl=en&site=imghp&tbm=isch&source=hp&q=%s",thesaurus:"http://www.thesaurus.com/browse/%s?s=t"},searchUrl=searchPlatformURLS[searchPlatform];selectedText=selectedText.replace(" ","+"),searchUrl=searchUrl.replace(/%s/g,selectedText),chrome.tabs.create({url:searchUrl})}},{key:"searchForWordUsageExamples",value:function(selectedText,searchPlatform){var searchPlatformURLS={"yourdictionary.com":"http://sentence.yourdictionary.com/%s","use-in-a-sentence.com":"http://www.use-in-a-sentence.com/english-words/10000-words/%s.htm","manythings.org":"http://www.manythings.org/sentences/words/%s/1.html"},searchUrl=searchPlatformURLS[searchPlatform];selectedText=selectedText.replace(" ","+"),searchUrl=searchUrl.replace(/%s/g,selectedText),chrome.tabs.create({url:searchUrl})}},{key:"addUrlToBlacklist",value:function(tabURL){var updatedBlacklist;chrome.storage.local.get("blacklist",function(result){var currentBlacklist=result.blacklist,blacklistURLs=[];blacklistURLs=currentBlacklist.slice(1,-1).split("|");var re=/^(?:https?:\/\/)?(?:[^@\n]+@)?(?:www\.)?([^:\/\n]+)/im,domainNameFromTabURL=tabURL.match(re)[0];updatedBlacklist="",blacklistURLs.indexOf(domainNameFromTabURL+"*")===-1&&(updatedBlacklist=currentBlacklist?currentBlacklist.split(")")[0]+"|"+domainNameFromTabURL+"*)":"("+domainNameFromTabURL+"*)"),chrome.storage.local.set({blacklist:updatedBlacklist})})}},{key:"addWordToBlacklist",value:function(wordToBeBlacklisted){this.isWordCountNone(wordToBeBlacklisted)||chrome.storage.local.get("userBlacklistedWords",function(result){var currentUserBlacklistedWords=result.userBlacklistedWords,blacklistedWords=[];blacklistedWords=currentUserBlacklistedWords.slice(1,-1).split("|");var updatedBlacklistedWords="";blacklistedWords.indexOf(wordToBeBlacklisted)===-1&&(updatedBlacklistedWords=currentUserBlacklistedWords?currentUserBlacklistedWords.split(")")[0]+"|"+wordToBeBlacklisted+")":"("+wordToBeBlacklisted+")"),chrome.storage.local.set({userBlacklistedWords:updatedBlacklistedWords})})}},{key:"speakTheWord",value:function(utterance){chrome.storage.local.get(null,function(data){var playbackOptions=JSON.parse(data.playbackOptions);chrome.tts.speak(utterance,{voiceName:playbackOptions.voiceName,rate:parseFloat(playbackOptions.rate),pitch:parseFloat(playbackOptions.pitch),volume:parseFloat(playbackOptions.volume)})})}},{key:"addToDifficultyBucket",value:function(word,difficultyLevel,translatedWords){if(!this.isWordCountNone(word)){var isTranslatedWord=!1;for(var k in translatedWords)if(translatedWords[k]===word){isTranslatedWord=!0;break}isTranslatedWord?chrome.storage.local.get(["difficultyBuckets"],function(result){var currentBuckets=JSON.parse(result.difficultyBuckets),updatedBuckets=currentBuckets;updatedBuckets[word]=difficultyLevel,chrome.storage.local.set({difficultyBuckets:JSON.stringify(updatedBuckets)})}):alert("Select one of the translated words")}}},{key:"markWordAsLearnt",value:function(word,translatedWords){if(!this.isWordCountNone(word)){var isTranslatedWord=!1;for(var k in translatedWords)if(translatedWords[k]===word){isTranslatedWord=!0;break}isTranslatedWord?chrome.storage.local.get(["learntWords"],function(result){var learntWords=result.learntWords,updatedLearntWords=learntWords;updatedLearntWords=2===learntWords.length?"("+word+")":updatedLearntWords.split(")")[0]+"|"+word+")",chrome.storage.local.set({learntWords:updatedLearntWords})}):alert("Select one of the translated words")}}},{key:"translateSentence",value:function(selectedText,translatedWords){var promise=new _Promise(function(resolve,reject){var keys=["translatorService","sourceLanguage","targetLanguage","yandexTranslatorApiKey","googleTranslatorApiKey","bingTranslatorApiKey"],words=selectedText.split(" "),translations=_Object$values(translatedWords),sourceWords=_Object$keys(translatedWords);if(words.length>=2&&words.length<14){for(var i in words)translations.indexOf(words[i])>-1&&(words[i]=sourceWords[translations.indexOf(words[i])]);selectedText=words.join(" "),chrome.storage.local.get(keys,function(data){var promise={};switch(data.translatorService){case"Yandex":var yandexTranslate=new YandexTranslate(data.yandexTranslatorApiKey,data.sourceLanguage,data.targetLanguage);promise=yandexTranslate.translateSentence(selectedText);break;case"Bing":var bingTranslate=new BingTranslate(data.bingTranslatorApiKey,data.sourceLanguage,data.targetLanguage);promise=bingTranslate.translateSentence(selectedText);break;case"Google":var googleTranslate=new GoogleTranslate(data.googleTranslatorApiKey,data.sourceLanguage,data.targetLanguage);promise=googleTranslate.translateSentence(selectedText)}promise.then(function(translatedSentence){resolve(translatedSentence)}).catch(function(e){reject(e)})})}else alert("Select a sentence containing at least 3 words and at most 15 words.")});return promise}},{key:"removeFromDifficultyBucket",value:function(word){this.isWordCountNone(word)||chrome.storage.local.get(["difficultyBuckets"],function(result){var difficultyBuckets=JSON.parse(result.difficultyBuckets);_Object$keys(difficultyBuckets).forEach(function(key){key===word&&delete difficultyBuckets[word]}),chrome.storage.local.set({difficultyBuckets:JSON.stringify(difficultyBuckets)})})}},{key:"saveTranslationToDictionary",value:function(selectedText,translatedWords){chrome.storage.local.get(["savedTranslations"],function(result){var updatedSavedTranslations=JSON.parse(result.savedTranslations);if(_Object$values(translatedWords).indexOf(selectedText)>-1){var originalText=_Object$keys(translatedWords).filter(function(key){return translatedWords[key]===selectedText})[0];updatedSavedTranslations[originalText]=translatedWords[originalText],console.log("updatedSavedTranslations",updatedSavedTranslations),chrome.storage.local.set({savedTranslations:JSON.stringify(updatedSavedTranslations)})}else alert("Select one of the translated words")})}},{key:"whitelistURL",value:function(url){chrome.storage.local.get("blacklist",function(data){var currentBlacklist=data.blacklist.slice(1,-1).split("|");for(var i in currentBlacklist){var re=new RegExp(currentBlacklist[i]);if(re.test(url)){currentBlacklist.splice(i,1);break}}chrome.storage.local.set({blacklist:"("+currentBlacklist.join("|")+")"})})}},{key:"showVisualHints",value:function(word,translatedWords){if(!this.isWordCountNone(word)){var isTranslatedWord=!1;for(var k in translatedWords)if(translatedWords[k]===word){isTranslatedWord=!0;break}if(isTranslatedWord){var searchUrl="http://www.google.com/search?q="+word+"&tbm=isch";chrome.tabs.create({url:searchUrl})}else alert("Select one of the translated words!")}}}]),ContextMenu}(),_export("ContextMenu",ContextMenu)}}}),$__System.register("4f",[],function(_export){"use strict";var localData;return{setters:[],execute:function(){localData={initialized:!0,activation:!0,blacklist:"(stackoverflow.com|github.com|code.google.com|developer.*.com|duolingo.com)",savedPatterns:JSON.stringify([[["en","English"],["it","Italian"],"25",!0,"Yandex"],[["en","English"],["de","German"],"15",!1,"Yandex"]]),sourceLanguage:"en",targetLanguage:"it",translatedWordStyle:"font-style: inherit;\ncolor: rgba(255,153,0,1);\nbackground-color: rgba(256, 100, 50, 0);",userBlacklistedWords:"(this|that)",translationProbability:15,minimumSourceWordLength:3,ngramMin:1,ngramMax:1,userDefinedTranslations:'{"the":"the", "a":"a"}',translatorService:"Yandex",yandexTranslatorApiKey:"",googleTranslatorApiKey:"",bingTranslatorApiKey:{clientId:"",clientSecret:""},playbackOptions:'{"volume": 1.0, "rate": 1.0, "voiceName": "Google US English", "pitch": 0.5 }',difficultyBuckets:"{}",learntWords:"()",savedTranslations:"{}",userDefinedOnly:!1,doNotTranslate:!1,stats:'{"totalWordsTranslated": 0, "translatorWiseWordCount": {"January": {}}}',toggleFrequency:"{}",activationFrequency:"{}",activationToggles:3,wordToggles:20,autoBlacklist:!0,translatedWordsForQuiz:"{}"},_export("localData",localData)}}}),$__System.register("1",["4e","4f"],function(_export){"use strict";function initializeLocalStorage(){chrome.storage.local.set(localData)}function setup(){initializeLocalStorage(),chrome.contextMenus.create({title:"MindTheWord",id:"parent",contexts:["selection","page"]}),chrome.contextMenus.create({title:"Speak The Word",parentId:"parent",contexts:["selection"],id:"speakTheWord"}),chrome.contextMenus.create({title:"Blacklist Selected Word",parentId:"parent",contexts:["selection"],id:"blacklistWord"}),chrome.contextMenus.create({title:"Blacklist This Website",parentId:"parent",contexts:["page","selection"],id:"blacklistWebsite"}),chrome.contextMenus.create({title:"Save Translation To Dictionary",parentId:"parent",contexts:["selection"],id:"saveTranslationToDictionary"}),chrome.contextMenus.create({title:"Show Similar Words",parentId:"parent",contexts:["selection"],id:"searchForSimilarWords"}),chrome.contextMenus.create({title:"Google Search",parentId:"searchForSimilarWords",contexts:["selection"],id:"searchForSimilarWordsOnGoogle"}),chrome.contextMenus.create({title:"Bing Search",parentId:"searchForSimilarWords",contexts:["selection"],id:"searchForSimilarWordsOnBing"}),chrome.contextMenus.create({title:"Google Image Search",parentId:"searchForSimilarWords",contexts:["selection"],id:"searchForSimilarWordsOnGoogleImages"}),chrome.contextMenus.create({title:"Thesaurus.com",parentId:"searchForSimilarWords",contexts:["selection"],id:"searchForSimilarWordsOnThesaurus"}),chrome.contextMenus.create({title:"Show Word Usage",parentId:"parent",contexts:["selection"],id:"wordUsageExamples"}),chrome.contextMenus.create({title:"yourdictionary.com",parentId:"wordUsageExamples",contexts:["selection"],id:"wordUsageExamplesYourDictionary"}),chrome.contextMenus.create({title:"use-in-a-sentence.com",parentId:"wordUsageExamples",contexts:["selection"],id:"wordUsageExamplesUseInASentence"}),chrome.contextMenus.create({title:"manythings.org",parentId:"wordUsageExamples",contexts:["selection"],id:"wordUsageExamplesManyThings"}),chrome.contextMenus.create({title:"Add To Difficulty Bucket",parentId:"parent",contexts:["selection"],id:"difficultyBucketFeatures"}),chrome.contextMenus.create({title:"Easy",parentId:"difficultyBucketFeatures",contexts:["selection"],id:"addToDifficultyBucketEasy"}),chrome.contextMenus.create({title:"Normal",parentId:"difficultyBucketFeatures",contexts:["selection"],id:"addToDifficultyBucketNormal"}),chrome.contextMenus.create({title:"Hard",parentId:"difficultyBucketFeatures",contexts:["selection"],id:"addToDifficultyBucketHard"}),chrome.contextMenus.create({title:"Mark as Learnt",parentId:"parent",contexts:["selection"],id:"markAsLearnt"}),chrome.contextMenus.create({title:"Translate Sentence",parentId:"parent",contexts:["selection"],id:"translateSentence"}),chrome.contextMenus.create({title:"Remove From Bucket",parentId:"difficultyBucketFeatures",contexts:["selection"],id:"removeFromDifficultyBucket"}),chrome.contextMenus.create({title:"Show Visual Hints",parentId:"parent",contexts:["selection"],id:"visualHints"})}function disableContextMenus(){chrome.contextMenus.update("parent",{enabled:!1})}function enableContextMenus(){chrome.contextMenus.update("parent",{enabled:!0})}function updateContextMenu(url){chrome.storage.local.get(["activation","blacklist"],function(result){var blacklistWebsiteReg=new RegExp(result.blacklist),activation=result.activation;activation===!1?disableContextMenus():blacklistWebsiteReg.test(url)?disableContextMenus():/^\s*$/.test(url)===!0?disableContextMenus():enableContextMenus()})}function checkURLChange(tabId,changeInfo,tab){(changeInfo.url||"complete"===changeInfo.status)&&(/chrome.*\:\/\//.test(changeInfo.url)===!1?updateContextMenu(changeInfo.url):disableContextMenus())}function checkActiveTabChange(activeInfo){chrome.tabs.get(activeInfo.tabId,function(tab){/chrome.*\:\/\//.test(tab.url)===!1?updateContextMenu(tab.url):disableContextMenus()})}function contextMenuClickHandler(info,tab){chrome.tabs.query({currentWindow:!0,active:!0},function(tabs){var tabURL=tabs[0].url;"blacklistWebsite"===info.menuItemId?(contextMenu.addUrlToBlacklist(tabURL),disableContextMenus()):"blacklistWord"===info.menuItemId?contextMenu.addWordToBlacklist(info.selectionText):"searchForSimilarWordsOnThesaurus"===info.menuItemId?contextMenu.searchForSimilarWords(info.selectionText,"thesaurus"):"searchForSimilarWordsOnGoogle"===info.menuItemId?contextMenu.searchForSimilarWords(info.selectionText,"google"):"searchForSimilarWordsOnBing"===info.menuItemId?contextMenu.searchForSimilarWords(info.selectionText,"bing"):"searchForSimilarWordsOnGoogleImages"===info.menuItemId?contextMenu.searchForSimilarWords(info.selectionText,"googleImages"):"speakTheWord"===info.menuItemId?contextMenu.speakTheWord(info.selectionText):"addToDifficultyBucketEasy"===info.menuItemId?chrome.tabs.query({active:!0,currentWindow:!0},function(tabs){chrome.tabs.sendMessage(tabs[0].id,{type:"getTranslatedWords"},function(response){response&&contextMenu.addToDifficultyBucket(info.selectionText,"e",response.translatedWords)})}):"addToDifficultyBucketNormal"===info.menuItemId?chrome.tabs.query({active:!0,currentWindow:!0},function(tabs){chrome.tabs.sendMessage(tabs[0].id,{type:"getTranslatedWords"},function(response){response&&contextMenu.addToDifficultyBucket(info.selectionText,"n",response.translatedWords)})}):"addToDifficultyBucketHard"===info.menuItemId?chrome.tabs.query({active:!0,currentWindow:!0},function(tabs){chrome.tabs.sendMessage(tabs[0].id,{type:"getTranslatedWords"},function(response){response&&contextMenu.addToDifficultyBucket(info.selectionText,"h",response.translatedWords)})}):"removeFromDifficultyBucket"===info.menuItemId?contextMenuFeatures.removeFromDifficultyBucket(info.selectionText):"wordUsageExamplesYourDictionary"===info.menuItemId?contextMenu.searchForWordUsageExamples(info.selectionText,"yourdictionary.com"):"wordUsageExamplesManyThings"===info.menuItemId?contextMenu.searchForWordUsageExamples(info.selectionText,"manythings.org"):"wordUsageExamplesUseInASentence"===info.menuItemId?contextMenu.searchForWordUsageExamples(info.selectionText,"use-in-a-sentence.com"):"markAsLearnt"===info.menuItemId?chrome.tabs.query({active:!0,currentWindow:!0},function(tabs){chrome.tabs.sendMessage(tabs[0].id,{type:"getTranslatedWords"},function(response){response&&contextMenu.markWordAsLearnt(info.selectionText,response.translatedWords)})}):"translateSentence"===info.menuItemId?chrome.tabs.query({active:!0,currentWindow:!0},function(tabs){chrome.tabs.sendMessage(tabs[0].id,{type:"getTranslatedWords",action:"storeSelection"},function(response){response&&contextMenu.translateSentence(info.selectionText,response.translatedWords).then(function(translationData){chrome.tabs.sendMessage(tabs[0].id,{type:"showTranslatedSentence",data:translationData})}).catch(function(e){console.error("Error in obtaining translations",e)})})}):"saveTranslationToDictionary"===info.menuItemId?chrome.tabs.query({active:!0,currentWindow:!0},function(tabs){chrome.tabs.sendMessage(tabs[0].id,{type:"getTranslatedWords",action:"storeSelection"},function(response){response&&contextMenu.saveTranslationToDictionary(info.selectionText,response.translatedWords)})}):"visualHints"===info.menuItemId&&chrome.tabs.query({active:!0,currentWindow:!0},function(tabs){chrome.tabs.sendMessage(tabs[0].id,{type:"getTranslatedWords",action:"storeSelection"},function(response){response&&contextMenu.showVisualHints(info.selectionText,response.translatedWords)})})})}var ContextMenu,localData,contextMenu,translatedWords;return{setters:[function(_e){ContextMenu=_e.ContextMenu},function(_f){localData=_f.localData}],execute:function(){contextMenu=new ContextMenu,translatedWords={},chrome.runtime.onInstalled.addListener(setup),chrome.contextMenus.onClicked.addListener(contextMenuClickHandler),chrome.tabs.onUpdated.addListener(checkURLChange),chrome.tabs.onActivated.addListener(checkActiveTabChange)}}})})(function(factory){factory()});